function calculateSavingsInterest(){var e=interestRate/12/100,t=12*years;emi=dailyBalance*(e*Math.pow(1+e,t))/(Math.pow(1+e,t)-1),emi=emi.toFixed(0),totalInterest=(totalInterest=emi*t-dailyBalance).toFixed(0),totalAmount=parseFloat(dailyBalance)+parseFloat(totalInterest),displaySavingsInterest()}function displaySavingsInterest(){let e=dailyBalance.toLocaleString("en-IN");document.querySelector("#fixed-interest").innerText="₹"+parseFloat(emi).toLocaleString("en-IN",{currency:"INR"});let t=parseFloat(totalInterest).toLocaleString("en-IN",{currency:"INR"});document.querySelector("#ci").innerText="₹"+t;let a=parseFloat(totalAmount).toLocaleString("en-IN",{currency:"INR"});document.querySelector("#ci_interest").innerText="₹"+a,document.querySelector("#loan-amt-text").value=e,pie.data.datasets[0].data[0]=parseFloat(totalInterest),pie.data.datasets[0].data[1]=dailyBalance,pie.update()}function initializeSavings(){let e=new Intl.NumberFormat("en-IN").format(5e4);daily_balance_slider.value=5e4,document.querySelector("#loan-amt-text").value=e,dailyBalance=5e4,interest_rate_slider.value=10,document.querySelector("#interest-rate-text").value="10",interestRate=10,loan_period_slider.value=1,document.querySelector("#loan-period-text").value="1",years=1,pie=new Chart(document.getElementById("pieChart"),{type:"doughnut",data:{datasets:[{data:[0,0],backgroundColor:["#318FE8","rgba(255, 193, 99, 1)"],hover:0,borderRadius:2,borderWidth:[20,0],borderColor:["#318FE8","rgba(255, 193, 99, 1)"],rotation:80}]},options:{cutout:"50%",animation:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},hover:{mode:null}}}),calculateSavingsInterest()}function updateSlidersAndTextInputs(){loanAmountSlider.value=loanAmtText.value=loanAmountInitial,interestRateSlider.value=interestRateText.value=interestRateInitial,loanPeriodSlider.value=loanPeriodInitial,loanPeriodText.textContent=loanPeriodInitial,updateSliderBackground(loanAmountSlider,loanAmountInitial),updateSliderBackground(interestRateSlider,interestRateInitial),updateSliderBackground(loanPeriodSlider,loanPeriodInitial)}function updateSliderBackground(e,t){const a=(t-e.min)/(e.max-e.min)*100;e.style.background=`linear-gradient(to right, #359acc ${a}%, #ccc ${a}%)`}var dailyBalance,interestRate,years,emi,totalInterest,totalAmount,pie,daily_balance_slider=document.getElementById("loan-amount"),interest_rate_slider=document.getElementById("interest-rate"),loan_period_slider=document.getElementById("loan-period");document.querySelector("#loan-amt-text").addEventListener("input",e=>{daily_balance_slider.value=parseFloat(e.target.value.replace(/,/g,"")),dailyBalance=parseFloat(e.target.value.replace(/,/g,"")),calculateSavingsInterest(),updateSliderBackground(daily_balance_slider,dailyBalance)}),document.querySelector("#interest-rate-text").addEventListener("input",e=>{interest_rate_slider.value=parseFloat(e.target.value),interestRate=parseFloat(e.target.value),calculateSavingsInterest(),updateSliderBackground(interest_rate_slider,interestRate)}),document.querySelector("#loan-period-text").addEventListener("input",e=>{loan_period_slider.value=parseFloat(e.target.value.split(" ")[0]),years=parseFloat(e.target.value.split(" ")[0]),calculateSavingsInterest(),updateSliderBackground(loan_period_slider,years)});const MAX_INTEREST_RATE=4.5,interestRateInput=document.querySelector("#interest-rate-text");interestRateInput.addEventListener("input",e=>{let t=parseFloat(e.target.value);interestRateInput.value=t>4.5?4.5:t,interestRate=parseFloat(interestRateInput.value),calculateSavingsInterest()});const MAX_LOAN_AMOUNT=1e7,loanAmountInput=document.querySelector("#loan-amt-text");loanAmountInput.addEventListener("input",e=>{let t=e.target.value.trim();""===t?(loanAmountInput.value="0",dailyBalance=0):(t=parseFloat(t.replace(/,/g,"")),loanAmountInput.value=t>1e7?1e7.toLocaleString("en-IN"):t.toLocaleString("en-IN"),dailyBalance=t),calculateSavingsInterest()});const MAX_LOAN_PERIOD=30,loanPeriodInput=document.querySelector("#loan-period-text");loanPeriodInput.addEventListener("input",e=>{let t=e.target.value.trim();""===t?(loanPeriodInput.value="0",t=0):(t=parseFloat(t.split(" ")[0]))>30?(loanPeriodInput.value=30,t=30):loanPeriodInput.value=t,calculateSavingsInterest(t)}),document.querySelector("#loan-period-text").addEventListener("input",e=>{loan_period_slider.value=parseFloat(e.target.value.split(" ")[0]),years=parseFloat(e.target.value.split(" ")[0]),calculateSavingsInterest()}),daily_balance_slider.addEventListener("input",e=>{document.querySelector("#loan-amt-text").value=parseInt(e.target.value).toLocaleString("en-IN"),dailyBalance=parseFloat(e.target.value),calculateSavingsInterest()}),interest_rate_slider.addEventListener("input",e=>{document.querySelector("#interest-rate-text").value=e.target.value,interestRate=parseFloat(e.target.value),calculateSavingsInterest()}),loan_period_slider.addEventListener("input",e=>{document.querySelector("#loan-period-text").value=e.target.value,years=parseFloat(e.target.value),calculateSavingsInterest()}),initializeSavings();const loanAmtText=document.querySelector("#loan-amt-text"),loanAmountSlider=document.querySelector("#loan-amount"),interestRateText=document.querySelector("#interest-rate-text"),interestRateSlider=document.querySelector("#interest-rate"),loanPeriodText=document.querySelector("#loan-period-text"),loanPeriodSlider=document.querySelector("#loan-period"),loanAmountInitial=5e4,interestRateInitial=10,loanPeriodInitial=1;loanAmtText.addEventListener("input",function(e){loanAmountSlider.value=e.target.value}),interestRateText.addEventListener("input",function(e){interestRateSlider.value=e.target.value}),updateSlidersAndTextInputs(),loanAmountSlider.addEventListener("input",function(e){loanAmtText.value=e.target.value,calculateSavingsInterest(),updateSliderBackground(loanAmountSlider,e.target.value)}),interestRateSlider.addEventListener("input",function(e){interestRateText.value=e.target.value,calculateSavingsInterest(),updateSliderBackground(interestRateSlider,e.target.value)}),loanPeriodSlider.addEventListener("input",function(e){loanPeriodText.textContent=e.target.value,calculateSavingsInterest(),updateSliderBackground(loanPeriodSlider,e.target.value)});